:root{--bg-primary: #0f0f1a;--bg-secondary: #1a1a2e;--bg-tertiary: #16213e;--bg-card: #1e2340;--bg-card-hover: #252b4a;--bg-surface: #202540;--text-primary: #e8e8f0;--text-secondary: #a0a0c0;--text-muted: #6e6e8e;--accent-primary: #D4342A;--accent-secondary: #FFB347;--accent-gold: #d4a855;--accent-sakura: #f8b4c8;--gradient-hero: linear-gradient(135deg, #1a1a2e 0%, #2d1f3d 50%, #1a1a2e 100%);--gradient-accent: linear-gradient(135deg, #D4342A, #ff6b5a);--gradient-gold: linear-gradient(135deg, #d4a855, #f0d08a);--border-color: rgba(255, 255, 255, .08);--border-active: rgba(212, 52, 42, .5);--shadow-sm: 0 2px 8px rgba(0, 0, 0, .3);--shadow-md: 0 4px 16px rgba(0, 0, 0, .4);--shadow-lg: 0 8px 32px rgba(0, 0, 0, .5);--shadow-glow: 0 0 20px rgba(212, 52, 42, .15);--radius-sm: 6px;--radius-md: 10px;--radius-lg: 16px;--radius-xl: 24px;--font-sans: "Noto Sans JP", sans-serif;--font-serif: "Noto Serif JP", serif;--font-round: "Zen Maru Gothic", sans-serif;--sidebar-width: 280px;--toolbar-height: 52px;--transition-fast: .15s ease;--transition-base: .25s ease;--transition-slow: .4s ease}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;font-family:var(--font-sans);background:var(--bg-primary);color:var(--text-primary);overflow:hidden;-webkit-font-smoothing:antialiased}#app{height:100%}.page{display:none;height:100%}.page.active{display:flex;flex-direction:column}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:3px}::-webkit-scrollbar-thumb:hover{background:#ffffff40}#top-page{background:var(--gradient-hero);overflow-y:auto}.top-header{padding:60px 20px 40px;text-align:center;position:relative}.top-header:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 0%,rgba(212,52,42,.08) 0%,transparent 60%);pointer-events:none}.app-title{font-family:var(--font-serif);font-size:3rem;font-weight:700;letter-spacing:.08em;background:var(--gradient-gold);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:12px;animation:fadeInUp .8s ease}.title-icon{-webkit-text-fill-color:initial;font-size:2.5rem}.app-subtitle{color:var(--text-secondary);font-size:1.1rem;font-weight:300;letter-spacing:.06em;animation:fadeInUp .8s ease .15s both}.top-main{max-width:1100px;margin:0 auto;padding:0 24px 60px}.category-tabs{display:flex;gap:8px;margin-bottom:28px;flex-wrap:wrap;justify-content:center;animation:fadeInUp .8s ease .3s both}.cat-tab{padding:8px 20px;border:1px solid var(--border-color);background:var(--bg-card);color:var(--text-secondary);border-radius:20px;cursor:pointer;font-size:.9rem;transition:all var(--transition-fast);font-family:var(--font-sans)}.cat-tab:hover{border-color:var(--accent-primary);color:var(--text-primary);background:var(--bg-card-hover)}.cat-tab.active{background:var(--gradient-accent);color:#fff;border-color:transparent}.template-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;margin-bottom:32px;animation:fadeInUp .8s ease .45s both}.template-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;cursor:pointer;transition:all var(--transition-base);position:relative}.template-card:hover{transform:translateY(-4px);border-color:var(--accent-primary);box-shadow:var(--shadow-glow)}.template-card .thumb{width:100%;aspect-ratio:100 / 148;object-fit:cover;display:block}.template-card .card-label{padding:10px 14px;font-size:.85rem;color:var(--text-secondary);text-align:center}.btn-blank{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;max-width:300px;margin:0 auto;padding:16px;background:var(--bg-card);border:2px dashed var(--border-color);border-radius:var(--radius-lg);color:var(--text-secondary);font-size:1rem;cursor:pointer;transition:all var(--transition-base);font-family:var(--font-sans);animation:fadeInUp .8s ease .6s both}.btn-blank:hover{border-color:var(--accent-gold);color:var(--accent-gold);background:var(--bg-card-hover)}.blank-icon{font-size:1.4rem}#editor-page{display:none;flex-direction:column;height:100vh}#editor-page.active{display:flex}.editor-toolbar{display:flex;align-items:center;height:var(--toolbar-height);padding:0 12px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);gap:12px;z-index:10}.toolbar-btn{padding:6px 14px;background:var(--bg-card);border:1px solid var(--border-color);color:var(--text-secondary);border-radius:var(--radius-sm);cursor:pointer;font-size:.85rem;transition:all var(--transition-fast);font-family:var(--font-sans);white-space:nowrap}.toolbar-btn:hover{background:var(--bg-card-hover);color:var(--text-primary)}.toolbar-btn.primary{background:var(--gradient-accent);border-color:transparent;color:#fff}.toolbar-btn.primary:hover{opacity:.9}.toolbar-btn.accent{background:var(--bg-card);border-color:var(--accent-gold);color:var(--accent-gold)}.toolbar-btn.accent:hover{background:#d4a8551f}.toolbar-center{flex:1;display:flex;justify-content:center}.face-tabs{display:flex;gap:4px;background:var(--bg-tertiary);border-radius:var(--radius-md);padding:3px}.face-tab{padding:6px 20px;border:none;background:transparent;color:var(--text-muted);cursor:pointer;border-radius:8px;font-size:.85rem;transition:all var(--transition-fast);font-family:var(--font-sans)}.face-tab.active{background:var(--accent-primary);color:#fff}.face-tab:hover:not(.active){color:var(--text-primary)}.toolbar-right{display:flex;gap:6px}.editor-body{display:flex;flex:1;overflow:hidden}.sidebar{width:var(--sidebar-width);background:var(--bg-secondary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;overflow:hidden}.tool-tabs{display:flex;border-bottom:1px solid var(--border-color)}.tool-tab{flex:1;padding:10px;border:none;background:transparent;font-size:1.2rem;cursor:pointer;transition:all var(--transition-fast);position:relative}.tool-tab:after{content:"";position:absolute;bottom:0;left:20%;right:20%;height:2px;background:var(--accent-primary);border-radius:1px;transform:scaleX(0);transition:transform var(--transition-fast)}.tool-tab.active:after{transform:scaleX(1)}.tool-tab:hover{background:var(--bg-card)}.tool-panel{display:none;flex:1;overflow-y:auto;padding:16px}.tool-panel.active{display:block}.panel-title{font-size:.95rem;font-weight:500;margin-bottom:14px;color:var(--text-primary)}.panel-btn{width:100%;padding:10px;border:1px solid var(--border-color);background:var(--bg-card);color:var(--text-primary);border-radius:var(--radius-sm);cursor:pointer;font-size:.9rem;transition:all var(--transition-fast);font-family:var(--font-sans);margin-bottom:12px}.panel-btn.primary{background:var(--gradient-accent);border-color:transparent;color:#fff}.panel-btn:hover{opacity:.9;transform:translateY(-1px)}.panel-group{margin-bottom:16px}.panel-group label{display:block;font-size:.8rem;color:var(--text-muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:.05em}.panel-group select,.panel-group input[type=color]{width:100%;padding:8px;background:var(--bg-card);border:1px solid var(--border-color);color:var(--text-primary);border-radius:var(--radius-sm);font-family:var(--font-sans);font-size:.85rem;margin-bottom:8px}.panel-group input[type=color]{height:36px;cursor:pointer}.panel-group input[type=range]{width:100%;margin-bottom:4px;accent-color:var(--accent-primary)}.preset-texts{display:flex;flex-wrap:wrap;gap:6px}.preset-btn{padding:6px 10px;font-size:.75rem;background:var(--bg-card);border:1px solid var(--border-color);color:var(--text-secondary);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);font-family:var(--font-sans)}.preset-btn:hover{border-color:var(--accent-primary);color:var(--text-primary)}.prop-row{display:flex;gap:6px;margin-top:8px}.prop-btn{flex:1;padding:8px;background:var(--bg-card);border:1px solid var(--border-color);color:var(--text-secondary);border-radius:var(--radius-sm);cursor:pointer;font-size:.8rem;transition:all var(--transition-fast);font-family:var(--font-sans)}.prop-btn:hover{border-color:var(--accent-primary);color:var(--text-primary)}.prop-btn.active{background:var(--accent-primary);color:#fff;border-color:transparent}.prop-btn.danger{border-color:#e74c3c;color:#e74c3c}.prop-btn.danger:hover{background:#e74c3c;color:#fff}.stamp-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.stamp-item{aspect-ratio:1;display:flex;align-items:center;justify-content:center;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;font-size:2rem;transition:all var(--transition-fast)}.stamp-item:hover{border-color:var(--accent-primary);transform:scale(1.05);box-shadow:var(--shadow-glow)}.pattern-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:6px;margin-bottom:10px}.pattern-btn{padding:8px;background:var(--bg-card);border:1px solid var(--border-color);color:var(--text-secondary);border-radius:var(--radius-sm);cursor:pointer;font-size:.8rem;transition:all var(--transition-fast);font-family:var(--font-sans)}.pattern-btn.active{border-color:var(--accent-primary);color:var(--accent-primary)}.zodiac-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.zodiac-item{display:flex;flex-direction:column;align-items:center;padding:10px 6px;background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);gap:4px}.zodiac-item .zodiac-emoji{font-size:1.8rem}.zodiac-item .zodiac-name{font-size:.7rem;color:var(--text-muted)}.zodiac-item:hover{border-color:var(--accent-gold);background:var(--bg-card-hover)}.zodiac-item.active{border-color:var(--accent-gold);background:#d4a8551f;box-shadow:0 0 12px #d4a85533}.zodiac-item.active .zodiac-name{color:var(--accent-gold)}.canvas-area{flex:1;display:flex;align-items:center;justify-content:center;background:var(--bg-primary);overflow:auto;padding:20px}.canvas-container{box-shadow:var(--shadow-lg);border-radius:4px;overflow:hidden;position:relative}.print-view{display:none}@media print{body *{visibility:hidden!important}.print-view,.print-view *{visibility:visible!important}.print-view{display:block!important;position:fixed;top:0;left:0;width:100mm;height:148mm}.print-view img{width:100%;height:100%;object-fit:contain}@page{size:100mm 148mm;margin:0}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@media(max-width:768px){.app-title{font-size:2rem}.template-grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}.editor-body{flex-direction:column}.sidebar{width:100%;height:45vh;border-right:none;border-top:1px solid var(--border-color);order:2}.canvas-area{flex:1;min-height:0;order:1;padding:10px}.editor-toolbar{padding:0 8px;gap:8px;overflow-x:auto;justify-content:space-between}.toolbar-center{flex:0 0 auto}.toolbar-right{gap:4px}.toolbar-btn{padding:6px 8px}.toolbar-btn span{display:none}#btn-print,#btn-download{font-size:1.2rem}}
