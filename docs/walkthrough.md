# 年賀状デザインアプリ — 検証・デプロイガイド

年賀状デザインアプリ（Web / PWA / Electron）の実装が完了しました。以下の手順で動作確認を行ってください。

## 1. 開発サーバーの起動

まず、ローカル開発サーバーを起動してアプリの動作を確認します。

```bash
cd d:\VibeCoding\年賀状アプリ
npm run dev
```

ブラウザで `http://localhost:5173` にアクセスし、以下の機能を確認してください：

- **テンプレート選択**: トップページでカテゴリータブを切り替え、テンプレートを選択
- **エディタ操作**:
  - テキスト追加・編集（フォント、サイズ、縦書き）
  - スタンプ配置（干支設定の切り替え）
  - 画像アップロード・トリミング
  - 背景設定（色・グラデーション・和柄）
- **宛名面**: 「宛名面」タブに切り替え、宛名書きのレイアウト確認
- **保存**: 「保存」ボタンでブラウザに作業内容を保存（アプリを閉じても保持されます）
- **再開**: トップページの「続きから作成」ボタンで保存データを読み込み（データがある場合のみ表示）
- **印刷**: 「印刷」ボタンではがきサイズ（100x148mm）のプレビューが表示されるか

## 2. ビルドとデプロイ

### 🌐 Webアプリとして公開する場合

GitHub Pages, Netlify, Vercel などにデプロイする際の手順です。

```bash
npm run build
```
生成された `dist/` フォルダの中身をホスティングサービスにアップロードしてください。

### 📱 PWA（スマホアプリ）として使用する場合

1. Webブラウザ（Chrome/Safari）でデプロイしたURLにアクセス
2. Android: 「ホーム画面に追加」バナーまたはメニューから追加
3. iOS: 共有ボタン → 「ホーム画面に追加」
4. ホーム画面のアイコンから起動できることを確認

### 💻 デスクトップアプリ (exe) の作成

Windows 用のポータブル exe ファイルを作成します。

```bash
npm run electron:build
```
`dist/` フォルダ内に `年賀状デザイナー.exe` が生成されます。インストール不要でダブルクリックするだけで起動できます。

### ☁️ Vercel へのデプロイ

以下のコマンドで Vercel へデプロイできます（初回はログイン等の対話入力が必要です）：

```bash
npx vercel --prod
```


---

## 3. ファイル構成

```
d:\VibeCoding\年賀状アプリ\
├── dist/               # ビルド生成物
├── electron/
│   └── main.js         # Electron メインプロセス
├── public/
│   ├── icons/          # アプリアイコン (SVG)
│   ├── manifest.json   # PWA マニフェスト
│   └── sw.js           # PWA Service Worker
├── src/
│   ├── canvas/         # Fabric.js 管理ロジック
│   ├── data/           # テンプレート・スタンプデータ
│   ├── styles/         # CSS デザインシステム
│   └── main.js         # アプリメイン処理
└── index.html          # エントリーポイント
```

### トラブルシューティング

- **Vercel デプロイエラー**: `Error: Detected linked project does not have "id"` と表示される場合は、プロジェクトフォルダ内の `.vercel` フォルダ（隠しフォルダ）を削除してから再度実行してください。
- **画像生成エラー**: アイコンの画像生成に失敗したため、現在は SVG アイコンを使用しています。
- **印刷ズレ**: ブラウザの印刷設定で「背景のグラフィック」を有効にし、「余白なし」または「最小」に設定するときれいに印刷できます。
